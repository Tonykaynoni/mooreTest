(function(t){function e(e){for(var s,i,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/moore-test-tony/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0418":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Task App")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Create Task"),a("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"allTasks"}},[t._v("All Tasks")])],1)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],n=a("e504"),i=n["a"],o=a("2877"),l=Object(o["a"])(i,s,r,!1,null,null,null);e["a"]=l.exports},"199c":function(t,e,a){"use strict";(function(t){var s=a("0418");t.jQuery=a("1157"),a("4ec7"),e["a"]={name:"App",data:function(){return{}},components:{"app-header":s["a"]}}}).call(this,a("c8ba"))},"3dfd":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"wrapper"}},[a("div",{staticClass:"d-flex flex-column",attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},["/login"!==t.$route.path?a("app-header"):t._e(),a("router-view",{staticStyle:{"margin-Top":"20px"}}),t._m(0)],1)]),t._m(1)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"sticky-footer bg-white"},[a("div",{staticClass:"container my-auto"},[a("div",{staticClass:"copyright text-center my-auto"},[a("span",[t._v("Copyright © MooreTest 2020")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"scroll-to-top rounded",attrs:{href:"#page-top"}},[a("i",{staticClass:"fas fa-angle-up"})])}],n=a("199c"),i=n["a"],o=a("2877"),l=Object(o["a"])(i,s,r,!1,null,null,null);e["a"]=l.exports},"4ec7":function(t,e,a){"use strict";a.r(e);a("d3b7");var s=a("bc3a"),r=a.n(s);r.a.interceptors.request.use((function(t){var e=localStorage.getItem("admintoken");return e&&(t.headers["Authorization"]="Bearer "+e),t}),(function(t){Promise.reject(t)})),r.a.interceptors.response.use((function(t){return t}),(function(t){var e=t.config;if(401===t.response.status&&"https://anola.com.ng/moore-test-tony/backend/public/api/adminSignIn"===e.url)return Promise.reject(t);if(401===t.response.status&&"https://anola.com.ng/moore-test-tony/backend/public/api/auth/refresh"===e.url)return localStorage.setItem("admintoken",null),window.location="./login",Promise.reject(t);if(401===t.response.status&&!e._retry){e._retry=!0;var a=localStorage.getItem("admintoken");return r.a.post("https://anola.com.ng/moore-test-tony/backend/public/api/auth/refresh",{refresh_token:a}).then((function(t){if(201===t.status){var a=t.data.token;return console.log("Response Token "+a),localStorage.setItem("admintoken",a),r.a.defaults.headers.common["Authorization"]="Bearer "+a,r()(e)}}))}return Promise.reject(t)}))},"56d7":function(t,e,a){"use strict";a.r(e),function(t){a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("2b0e"),s=a("3dfd"),r=a("8c4f"),n=a("9062"),i=a.n(n),o=(a("e40d"),a("5886")),l=(a("4413"),a("1881")),c=a.n(l),d=a("6b9d"),u=a("c368");e["a"].use(o["a"]),e["a"].use(i.a),e["a"].use(c.a),e["a"].config.productionTip=!1,e["a"].use(r["a"]);var p=t.jQuery;window.$=p;var f=[{name:"addTask",path:"/",component:d["a"]},{name:"allTasks",path:"/allTasks",component:u["a"]}],v=new r["a"]({mode:"history",routes:f});new e["a"]({el:"#app",router:v,render:function(t){return t(s["a"])}})}.call(this,a("c8ba"))},"6b9d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6 col-lg-6"},[a("div",{staticClass:"card shadow mb-4"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",[a("form",{staticClass:"form-group",on:{submit:function(e){return e.preventDefault(),t.submitTask(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"select-type"}},[t._v("Task Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.task_title,expression:"task.task_title"}],staticClass:"form-control",attrs:{placeholder:"Task Title.",type:"text",required:""},domProps:{value:t.task.task_title},on:{input:function(e){e.target.composing||t.$set(t.task,"task_title",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category_details"}},[t._v("Task Details")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task.task_details,expression:"task.task_details"}],staticClass:"form-control",attrs:{placeholder:"Task Details",type:"text",required:""},domProps:{value:t.task.task_details},on:{input:function(e){e.target.composing||t.$set(t.task,"task_details",e.target.value)}}})]),t._m(1)])])])])]),a("div",{staticClass:"col-xl-6 col-lg-6"},[a("div",{staticClass:"card shadow mb-4"},[t._m(2),a("div",{staticClass:"card-body d-block scroll-wrapper",staticStyle:{overflow:"auto",height:"450px"}},[t._l(t.recentTasks,(function(e,s){return a("div",{key:s},[a("h4",{staticClass:"small font-weight-bold"},[t._v(t._s(e.title)+" "),a("span",{staticClass:"float-right"},[t._v("100")])]),a("div",{staticClass:"progress mb-4"},[a("div",{class:["progress-bar",t.taskStyles[Math.floor(Math.random()*t.taskStyles.length)]],staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])])})),a("div",[a("router-link",{attrs:{to:"allTasks"}},[t._v("View All Task")])],1)],2)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[a("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v("Add Task")]),a("div",{staticClass:"dropdown no-arrow"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"form-control btn btn-primary",attrs:{type:"submit"}},[t._v(" Save Task ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[a("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v("Recent Tasks")]),a("div",{staticClass:"dropdown no-arrow"})])}],n=a("bc3a"),i=a.n(n),o={data:function(){return{task:{task_title:"",task_details:""},recentTasks:[],loader:null,taskStyles:["bg-warning","bg-info","bg-success","bg-danger"]}},methods:{submitTask:function(t){var e=this;this.displayLoader(),i.a.post("https://anola.com.ng/moore-test-tony/backend/public/api/createTask",this.task).then((function(){t.target.reset(),e.$swal({icon:"success",title:"Task Created Successfully",text:"🙂"});var a={title:e.task.task_title};e.recentTasks.push(a),e.task.task_title="",e.task.task_details="",e.loader.hide()})).catch((function(t){console.log("Error",t);var a=JSON.parse(JSON.stringify(t.response.data));if(e.loader.hide(),422==t.response.status){var s=a.errors.title_error;null!=s&&e.$swal({icon:"error",title:"Unkonwn Error Occured",text:"Please Retry"})}}))},displayLoader:function(){this.loader=this.$loading.show({container:null,canCancel:!1,onCancel:this.onCancel,color:"#4e73df",loader:"bars",width:100,height:100,backgroundColor:"#e1e1e1",opacity:.6,zIndex:999})},fetchRecentTask:function(){var t=this;this.displayLoader(),i.a.get("https://anola.com.ng/moore-test-tony/backend/public/api/fetchRecentTask").then((function(e){var a=JSON.parse(JSON.stringify(e.data.response));t.recentTasks=a.data,t.loader.hide()})).catch((function(){t.loader.hide(),t.$swal({icon:"error",title:"Error Fetching Recent Tasks",text:"🤷‍♂️"})}))}},mounted:function(){this.fetchRecentTask()}},l=o,c=a("2877"),d=Object(c["a"])(l,s,r,!1,null,null,null);e["a"]=d.exports},c368:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12"},[a("div",{staticClass:"card shadow mb-4"},[t._m(0),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-striped table-responsive-md btn-table"},[t._m(1),a("tbody",t._l(t.allTasks,(function(e,s){return a("tr",{key:s,attrs:{value:e.id}},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.details))]),a("td",[t._v(t._s(e.created_at))]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteTask(e.id,s)}}},[t._v("Delete")]),a("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.showModal(e,s)}}},[t._v("Edit")])])])})),0)])])])])]),null!=t.modalData?a("modal",{attrs:{name:"EditModal",adaptive:!0,height:"auto",scrollable:!0}},[a("div",{staticClass:"card"},[a("div",{attrs:{slot:"top-right"},slot:"top-right"},[a("button",{staticClass:"btn",on:{click:t.closeModal}},[t._v("❌")])]),a("div",{staticClass:"card-title container"},[a("h3",[t._v(t._s(t.modalData.task_title))])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-xl-12",staticStyle:{"margin-bottom":"10px"}},[a("form",{attrs:{calss:"form-group"},on:{submit:function(e){return e.preventDefault(),t.editTask(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"select-type"}},[t._v("Task Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editDetails.task_title,expression:"editDetails.task_title"}],staticClass:"form-control",attrs:{placeholder:"Category Name.",type:"text",required:""},domProps:{value:t.editDetails.task_title},on:{input:function(e){e.target.composing||t.$set(t.editDetails,"task_title",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category_details"}},[t._v("Task Details")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editDetails.task_details,expression:"editDetails.task_details"}],staticClass:"form-control",attrs:{placeholder:"Category Details",type:"text",required:""},domProps:{value:t.editDetails.task_details},on:{input:function(e){e.target.composing||t.$set(t.editDetails,"task_details",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"form-control btn btn-primary",attrs:{type:"submit"}},[t._v("Edit Task")])])])])])])])]):t._e()],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[a("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v("All Tasks")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Task")]),a("th",[t._v("Details")]),a("th",[t._v("Date")]),a("th",[t._v("Action")])])])}],n=(a("a434"),a("bc3a")),i=a.n(n),o={data:function(){return{loader:null,allTasks:[],modalData:null,editDetails:{currentIndex:"",task_id:"",task_title:"",task_details:""}}},methods:{editTask:function(){var t=this;this.displayLoader(),i.a.post("https://anola.com.ng/moore-test-tony/backend/public/api/editTask",this.editDetails).then((function(e){t.allTasks=e.data.response,t.$swal({icon:"success",title:"Edited Successfully",text:"👌"}),t.loader.hide()})).catch((function(e){var a=JSON.parse(JSON.stringify(e.response.data));if(t.loader.hide(),422==e.response.status){var s=a.errors.task_title;null!=s&&t.$swal({icon:"error",title:"Use a unique task title🤦‍♂️",text:s})}null!=e.response.data.error&&t.$swal({icon:"error",title:"Update Failed",text:e.response.data.error})}))},showModal:function(t,e){this.editDetails={currentIndex:e,task_id:t.id,task_title:t.title,task_details:t.details},this.modalData=t,this.$modal.show("EditModal")},closeModal:function(){this.$modal.hide("EditModal")},deleteTask:function(t,e){var a=this;this.$swal({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this😲",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete it!"}).then((function(s){s.value&&(a.displayLoader(),i.a.post("https://anola.com.ng/moore-test-tony/backend/public/api/deleteTask",{taskId:t}).then((function(){a.$swal({icon:"success",title:"Task Deleted Successfully",text:"😎"}),a.allTasks.splice(e,1),a.loader.hide()})).catch((function(){a.loader.hide(),a.$swal({icon:"error",title:"Error deleting Task",text:"🤷‍♂️"})})))}))},displayLoader:function(){this.loader=this.$loading.show({container:null,canCancel:!1,onCancel:this.onCancel,color:"#4e73df",loader:"bars",width:100,height:100,backgroundColor:"#e1e1e1",opacity:.6,zIndex:999})},fetchAllTasks:function(){var t=this;this.displayLoader(),i.a.get("https://anola.com.ng/moore-test-tony/backend/public/api/fetchAllTask").then((function(e){var a=JSON.parse(JSON.stringify(e.data.response));t.allTasks=a,t.loader.hide()})).catch((function(){t.loader.hide(),t.$swal({icon:"error",title:"Session TimeOut",text:"🤷‍♂️"})}))}},mounted:function(){this.fetchAllTasks()}},l=o,c=a("2877"),d=Object(c["a"])(l,s,r,!1,null,null,null);e["a"]=d.exports},e504:function(t,e,a){"use strict";(function(t){var a=t.jQuery;window.$=a,e["a"]={data:function(){return{user:""}},methods:{},mounted:function(){}}}).call(this,a("c8ba"))}});
//# sourceMappingURL=app.09bd199e.js.map